!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/build/",t(0)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}for(var a=(function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(c){o=!0,i=c}finally{try{!r&&u["return"]&&u["return"]()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()),u=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()),c=n(10),s=function(e){function t(){var e=arguments.length<=0||void 0===arguments[0]?c.Platform.utils.randomColorHex():arguments[0];r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c.Platform.utils.randomNumberBetween(60,window.innerWidth+60),c.Platform.utils.randomNumberBetween(60,window.innerHeight+60),12,12));return n.color=e,n.vectorX=c.Platform.utils.randomNumberBetween(-5,5),n.vectorY=c.Platform.utils.randomNumberBetween(-5,5),n}return i(t,e),u(t,[{key:"draw",value:function(e){e.beginPath(),e.arc(6,6,6,2*Math.PI,!1),e.fillStyle=this.color,e.fill(),e.closePath()}},{key:"directionalMagnitude",get:function(){return Math.sqrt(Math.pow(this.vectorX,2)+Math.pow(this.vectorY,2))}}]),t}(c.View.Item),d=c.View.createLayer(),f=0;f<25;f++)d.addEntity(new s);c.Platform.loop.add(function(){for(var e=d.getCollisions(),t=0,n=e.length;t<n;t++){var r=e[t].sort(function(e,t){return e.directionalMagnitude<t.directionalMagnitude}),o=a(r,2),i=o[0],u=o[1];i.vectorX=[u.vectorX,u.vectorX=i.vectorX][0],i.vectorY=[u.vectorY,u.vectorY=i.vectorY][0]}}).add(function(){for(var e=d.getEntities(),t=void 0,n=0,r=e.length;n<r;){t=e[n++];var o=t.getCoordinates(),i=o.dx,a=o.dy;(i+t.vectorX+t.getWidth()>c.View.getLayers()[0].getWidth()||i+t.vectorX<=0)&&(t.vectorX=-t.vectorX),(a+t.vectorY+t.getHeight()>c.View.getLayers()[0].getHeight()||a+t.vectorY<=0)&&(t.vectorY=-t.vectorY),t.setCoordinates({dx:i+t.vectorX,dy:a+t.vectorY})}}).add(function(){for(var e=d.getEntities(),t=0,n=void 0,r=0,o=e.length;r<o;)n=e[r++],t+=n.directionalMagnitude;console.log(t)}).start()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};n.targetFps=80,n.debugEnabled=!1,n.performanceFeedback=!1,t.config=n},function(e,t,n){(function(e){"use strict";function e(){if(a){r.config.performanceFeedback&&(u=performance.now());for(var t=0,n=i.length;t<n;)i[t++]();r.config.performanceFeedback&&(c=performance.now(),console.log("Frame took %sms",c-u)),window.requestAnimationFrame(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.loop=void 0;var r=n(1),o={},i=[],a=void 0;o.add=function(e){if("function"!=typeof e)throw Error("Only functions may be added to the loop");return i.push(e),o},o.start=function(){return a=!0,window.requestAnimationFrame(e),o},o.stop=function(){return a=!1,o};var u=void 0,c=void 0;window.onerror=o.stop,t.loop=o}).call(t,n(11))},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={},r=0,o="0123456789ABCDEF";n.generateUid=function(){return(r++).toString(36)},n.randomX=function(){return n.randomNumberBetween(100,window.innerWidth-100)},n.randomY=function(){return n.randomNumberBetween(100,window.innerHeight-100)},n.randomNumberBetween=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},n.randomColorHex=function(){for(var e="#",t=0;t<6;t++)e+=o[Math.floor(16*Math.random())];return e},n.getDotProduct=function(e,t){for(var n=0,r=e.length;r--;)n+=e[r]*t[r];return n},n.pythagoras=function(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))},n.getAngleBetweenThreePoints=function(e,t,r){var o=[t.dx-e.dx,t.dy-e.dy],i=[r.dx-t.dx,r.dy-t.dy];return Math.acos(-n.getDotProduct(o,i)/(n.pythagoras.apply(n,o)*n.pythagoras.apply(n,i)))},n.getCenterBetweenTwoPoints=function(e,t){return{dx:(e.dx+t.dx)/2,dy:(e.dy+t.dy)/2}},n.degreesToRadians=function(e){return e*Math.PI/180},n.radiansToDegrees=function(e){return 180*e/Math.PI},t.utils=n},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(7),a=function(){function e(t,n,o,i,a){r(this,e),this._canvas=a||document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),a||(this._canvas.width=this._width=o,this._canvas.height=this._height=i),this.dx=t,this.dy=n}return o(e,[{key:"getCanvas",value:function(){return this._canvas}},{key:"getContext",value:function(){return this._ctx}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"getRadius",value:function(){return this._width/2}},{key:"getCoordinates",value:function(){return{dx:this.dx,dy:this.dy}}},{key:"setCoordinates",value:function(e){var t=e.dx,n=e.dy;this.dx=t,this.dy=n}},{key:"getDxCoordinate",value:function(){return this.dx}},{key:"setDxCoordinate",value:function(e){this.dx=e}},{key:"getDyCoordinate",value:function(){return this.dy}},{key:"setDyCoordinate",value:function(e){this.dy=e}},{key:"getCenterCoordinates",value:function(){return{dx:this.dx+this._width/2,dy:this.dy+this._height/2}}},{key:"getHorizontalCenterCoordinate",value:function(){return this.dx+this._width/2}},{key:"getVerticalCenterCoordinate",value:function(){return this.dy+this._height/2}},{key:"getMinHorizontalCoordinate",value:function(){return this.dx}},{key:"getMaxHorizontalCoordinate",value:function(){return this.dx+this._width}},{key:"getMinVerticalCoordinate",value:function(){return this.dy}},{key:"getMaxVerticalCoordinate",value:function(){return this._dy+this._height}},{key:"Class",get:function(){return e}}],[{key:"collisions",get:function(){return i.collisions}}]),e}();t.Item=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;var r=n(1),o=n(6),i=n(2),a=n(3),u={};u.config=r.config,u.input=o.input,u.loop=i.loop,u.utils=a.utils,t.Platform=u},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={upArrow:!1,downArrow:!1,leftArrow:!1,rightArrow:!1};document.addEventListener("keydown",function(e){switch(e.keyCode){case 38:case 87:n.upArrow=!0;break;case 40:case 83:n.downArrow=!0;break;case 37:case 65:n.leftArrow=!0;break;case 39:case 68:n.rightArrow=!0}},!1),document.addEventListener("keyup",function(e){switch(e.keyCode){case 38:case 87:n.upArrow=!1;break;case 40:case 83:n.downArrow=!1;break;case 37:case 65:n.leftArrow=!1;break;case 39:case 68:n.rightArrow=!1}},!1),t.input=n},function(e,t){"use strict"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),a=n(1),u=n(2),c=n(3),s=function(){function e(t,n){var o=this;r(this,e),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._entities=[],this.resizeCanvas(t,n),document.body.appendChild(this._canvas),u.loop.add(function(){o._ctx.clearRect(0,0,o._canvas.width,o._canvas.height);for(var e=void 0,t=0,n=o._entities.length;t<n;){e=o._entities[t++];var r=e.getContext().canvas,i=e.getCoordinates(),u=i.dx,c=i.dy;a.config.debugEnabled&&e._ctx.strokeRect(0,0,r.width,r.height),o._ctx.drawImage(r,u,c)}})}return o(e,[{key:"getCanvas",value:function(){return this._canvas}},{key:"getContext",value:function(){return this._ctx}},{key:"getWidth",value:function(){return this._canvas.width}},{key:"getHeight",value:function(){return this._canvas.height}},{key:"addEntity",value:function(e){if(!(e instanceof i.Item))throw Error("Entities must be valid");return e.draw&&e.draw(e._ctx),this._entities[this._entities.length]=e,this}},{key:"getEntities",value:function(){return this._entities}},{key:"getCollisions",value:function(){for(var e=[],t=0,n=this._entities.length;t<n;t++)for(var r=t+1;r<n;r++){var o=this._entities[t],i=this._entities[r],a=o.getRadius(),u=i.getRadius(),s=o.getCenterCoordinates(),d=s.dx,f=s.dy,l=i.getCenterCoordinates(),h=l.dx,v=l.dy;c.utils.pythagoras(h-d,v-f)<a+u&&(e[e.length]=[o,i])}return e}},{key:"clearCanvas",value:function(){this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resizeCanvas",value:function(){var e=arguments.length<=0||void 0===arguments[0]?window.innerWidth:arguments[0],t=arguments.length<=1||void 0===arguments[1]?window.innerHeight:arguments[1];if(this._boundariesLocked)throw Error("Cannot resize canvas when boundaries are locked");this._canvas.width=this._width=e,this._canvas.height=this._height=t}},{key:"lockBoundaries",value:function(){this._boundariesLocked=!0}},{key:"unlockBoundaries",value:function(){this._boundariesLocked=!1}},{key:"Class",get:function(){return e}}]),e}();t.Layer=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var a=n(4),u=n(8),c={Item:a.Item,Layer:u.Layer},s=[];c.createLayer=function(e,t,n){var r=s[s.length]=new u.Layer(t,n);return r},c.createItem=function(e){var t=e.draw,n=void 0===t?Function:t,u=e.coordinates,c=u.dx,s=u.dy,d=e.dimensions,f=d.width,l=d.height;return new(function(e){function t(e,n,i,a,u){r(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i,a,u));return c.draw=e,c}return i(t,e),t}(a.Item))(n,c,s,f,l)},c.getLayer=function(e){for(var t=0,n=s.length;t<n;t++)if(s[t].uid===e)return s[t]},c.getLayers=function(){return s},window.addEventListener("resize",function(){for(var e=void 0,t=0,n=s.length;t<n;t++)e=s[t],e._boundariesLocked||e.resizeCanvas()},!1),t.View=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5);Object.defineProperty(t,"Platform",{enumerable:!0,get:function(){return r.Platform}});var o=n(9);Object.defineProperty(t,"View",{enumerable:!0,get:function(){return o.View}})},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(d===setTimeout)return setTimeout(e,0);if((d===n||!d)&&setTimeout)return d=setTimeout,setTimeout(e,0);try{return d(e,0)}catch(t){try{return d.call(null,e,0)}catch(t){return d.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?v=h.concat(v):g=-1,v.length&&u())}function u(){if(!y){var e=o(a);y=!0;for(var t=v.length;t;){for(h=v,v=[];++g<t;)h&&h[g].run();g=-1,t=v.length}h=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var d,f,l=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:n}catch(e){d=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var h,v=[],y=!1,g=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];v.push(new c(e,t)),1!==v.length||y||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}}]);