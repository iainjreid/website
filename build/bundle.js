!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="/build/",t(0)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}for(var a=(function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),u=r(12),c=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u.Platform.utils.randomNumberBetween(60,window.innerWidth-60),u.Platform.utils.randomNumberBetween(60,window.innerHeight-60),12,12));return e.color=u.Platform.utils.randomColorHex(),e.setVectorX(u.Platform.utils.randomNumberBetween(-5,5)),e.setVectorY(u.Platform.utils.randomNumberBetween(-5,5)),e}return i(t,e),a(t,[{key:"draw",value:function(e){e.beginPath(),e.arc(6,6,6,2*Math.PI,!1),e.fillStyle=this.color,e.fill(),e.closePath()}}]),t}(u.View.Item.with("vectors","collisions")),s=u.View.createLayer(),f=0;f<50;f++)setTimeout(function(){return s.addEntity(new c)},100*f);u.Platform.hooks.on("collision",function(e,t){e.reflectVectorX(t),e.reflectVectorY(t)}),u.Platform.loop.add(function(){for(var e=s.getEntities(),t=void 0,r=0,n=e.length;r<n;){t=e[r++];var o=t.getCoordinates(),i=o.dx,a=o.dy,u=[t.getVectorX(),t.getVectorY()],c=u[0],f=u[1];(i+c+t.getWidth()>s.getWidth()||i+c<=0)&&t.reverseVectorX(),(a+f+t.getHeight()>s.getHeight()||a+f<=0)&&t.reverseVectorY()}}),u.Platform.loop.start()},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=void 0;var o=r(2),i=n(o),a=r(4),u=n(a),c=r(5),s=n(c),f=r(6),l=n(f),d=r(7),h=n(d),v={};v.config=i,v.hooks=u,v.input=s,v.loop=l,v.utils=h,t.Platform=v},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.fpsCounter=!0,t.debugEnabled=!1,t.performanceFeedback=!1},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Item=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(8),a=r(9),u=function(){function e(t,r,o,i,a){n(this,e),this._canvas=a||document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),a||(this._canvas.width=o,this._canvas.height=i),this.dx=t,this.dy=r}return o(e,[{key:"getCanvas",value:function(){return this._canvas}},{key:"getContext",value:function(){return this._ctx}},{key:"getWidth",value:function(){return this._canvas.width}},{key:"getHeight",value:function(){return this._canvas.height}},{key:"getCoordinates",value:function(){return{dx:this.dx,dy:this.dy}}},{key:"setCoordinates",value:function(e){var t=e.dx,r=e.dy;this.setDxCoordinate(t),this.setDyCoordinate(r)}},{key:"getDxCoordinate",value:function(){return this.dx}},{key:"setDxCoordinate",value:function(e){this.dx=e}},{key:"getDyCoordinate",value:function(){return this.dy}},{key:"setDyCoordinate",value:function(e){this.dy=e}},{key:"getCenterCoordinates",value:function(){return{dx:this.dx+this._canvas.width/2,dy:this.dy+this._canvas.height/2}}},{key:"getHorizontalCenterCoordinate",value:function(){return this.dx+this._canvas.width/2}},{key:"getVerticalCenterCoordinate",value:function(){return this.dy+this._canvas.height/2}},{key:"getMinHorizontalCoordinate",value:function(){return this.dx}},{key:"getMaxHorizontalCoordinate",value:function(){return this.dx+this._canvas.width}},{key:"getMinVerticalCoordinate",value:function(){return this.dy}},{key:"getMaxVerticalCoordinate",value:function(){return this._dy+this._canvas.height}},{key:"Class",get:function(){return e}}],[{key:"with",value:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(t,r){if(!e[r])throw Error("Property not found on class");return e[r](t)},this)}},{key:"collisions",get:function(){return i.collisions}},{key:"vectors",get:function(){return a.vectors}}]),e}();t.Item=u},function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e,t){i.hasOwnProperty(e)?i[e].push(t):i[e]=[t]}function o(e,t){if(i.hasOwnProperty(e)){var n=!0,o=!1,a=void 0;try{for(var u,c=i[e][Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var s=u.value;s.apply(void 0,r(t))}}catch(e){o=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(o)throw a}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.on=n,t.fire=o;var i={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.keyboard={upArrow:!1,downArrow:!1,leftArrow:!1,rightArrow:!1};document.addEventListener("keydown",function(e){switch(e.keyCode){case 38:case 87:r.upArrow=!0;break;case 40:case 83:r.downArrow=!0;break;case 37:case 65:r.leftArrow=!0;break;case 39:case 68:r.rightArrow=!0}},!1),document.addEventListener("keyup",function(e){switch(e.keyCode){case 38:case 87:r.upArrow=!1;break;case 40:case 83:r.downArrow=!1;break;case 37:case 65:r.leftArrow=!1;break;case 39:case 68:r.rightArrow=!1}},!1)},function(e,t,r){(function(e){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;if("function"!=typeof e)throw Error("Only functions may be added to the loop");s.push({fn:e,priority:t}),s.sort(function(e,t){return e.priority>t.priority})}function i(){f=!0,window.requestAnimationFrame(e)}function a(){f=!1}function e(){if(f){c.performanceFeedback&&(d=performance.now());for(var t=0,r=s.length;t<r;)s[t++].fn();c.performanceFeedback&&(h=performance.now(),console.log("Frame took %sms",h-d)),c.fpsCounter&&l++,window.requestAnimationFrame(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.add=o,t.start=i,t.stop=a;var u=r(2),c=n(u),s=[],f=void 0,l=0,d=void 0,h=void 0;window.onerror=a,c.fpsCounter&&setInterval(function(){console.debug("%s FPS",l),l=0},1e3)}).call(t,r(13))},function(e,t){"use strict";function r(){return(v++).toString(36)}function n(){return h.randomNumberBetween(100,window.innerWidth-100)}function o(){return h.randomNumberBetween(100,window.innerHeight-100)}function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function a(){for(var e="#",t=0;t<6;t++)e+=y[Math.floor(16*Math.random())];return e}function u(e,t){for(var r=0,n=e.length;n--;)r+=e[n]*t[n];return r}function c(e,t){return Math.sqrt(e*e+t*t)}function s(e,t,r){var n=[t.dx-e.dx,t.dy-e.dy],o=[r.dx-t.dx,r.dy-t.dy];return Math.acos(-h.getDotProduct(n,o)/(h.pythagoras.apply(h,n)*h.pythagoras.apply(h,o)))}function f(e,t){return{dx:(e.dx+t.dx)/2,dy:(e.dy+t.dy)/2}}function l(e){return e*Math.PI/180}function d(e){return 180*e/Math.PI}Object.defineProperty(t,"__esModule",{value:!0}),t.generateUid=r,t.randomX=n,t.randomY=o,t.randomNumberBetween=i,t.randomColorHex=a,t.getDotProduct=u,t.pythagoras=c,t.getAngleBetweenThreePoints=s,t.getCenterBetweenTwoPoints=f,t.degreesToRadians=l,t.radiansToDegrees=d;var h={},v=0,y="0123456789ABCDEF";t.utils=h},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"setDxCoordinate",value:function(){var e;f.includes(this)||f.push(this);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDxCoordinate",this)).call.apply(e,[this].concat(n))}},{key:"setDyCoordinate",value:function(){var e;f.includes(this)||f.push(this);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];(e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setDyCoordinate",this)).call.apply(e,[this].concat(n))}}]),t}(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)};t.collisions=a;var s=r(1),f=[];s.Platform.loop.add(function(){for(var e=[],t=0,r=f.length;t<r;t++)for(var n=t+1;n<r;n++){var o=f[t],i=f[n],a=o.getWidth()/2,u=i.getWidth()/2,c=o.getCenterCoordinates(),l=c.dx,d=c.dy,h=i.getCenterCoordinates(),v=h.dx,y=h.dy;s.Platform.utils.pythagoras(v-l,y-d)<a+u&&(e[e.length]=[o,i])}for(;e.length;)s.Platform.hooks.fire("collision",e.shift());f.length=0},100)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.vectorX=0,e.vectorY=0,s.Platform.loop.add(function(){var t=e.getCoordinates(),r=t.dx,n=t.dy;e.setCoordinates({dx:r+e.vectorX,dy:n+e.vectorY})}),e}return i(t,e),u(t,[{key:"getVectorX",value:function(){return this.vectorX}},{key:"setVectorX",value:function(e){this.vectorX=e}},{key:"getVectorY",value:function(){return this.vectorY}},{key:"setVectorY",value:function(e){this.vectorY=e}},{key:"reverseVectorX",value:function(){this.vectorX=-this.vectorX}},{key:"reverseVectorY",value:function(){this.vectorY=-this.vectorY}},{key:"reflectVectorX",value:function(e){if(!(e instanceof t))throw Error("Item must include the Vector class");this.vectorX=[e.vectorX,e.vectorX=this.vectorX][0]}},{key:"reflectVectorY",value:function(e){if(!(e instanceof t))throw Error("Item must include the Vector class");this.vectorY=[e.vectorY,e.vectorY=this.vectorY][0]}},{key:"getVectorMagnitude",value:function(){return s.Platform.utils.pythagoras(this.vectorX,this.vectorY)}},{key:"getVectorDirection",value:function(){var e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getCenterCoordinates",this).call(this);return s.Platform.utils.getAngleBetweenThreePoints({dx:e.dx,dy:e.dy+1},e,{dx:e.dx+this.vectorX,dy:e.dy+this.vectorY})}}]),t}(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;if(void 0!==a)return a.call(n)};t.vectors=a;var s=r(1)},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.Layer=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3),a=r(1),u=function(){function e(t,r){var o=this;n(this,e),this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._entities=[],this.resizeCanvas(t,r),document.body.appendChild(this._canvas),a.Platform.loop.add(function(){o._ctx.clearRect(0,0,o._canvas.width,o._canvas.height);for(var e=void 0,t=0,r=o._entities.length;t<r;){e=o._entities[t++];var n=e.getContext().canvas,i=e.getCoordinates(),u=i.dx,c=i.dy;a.Platform.config.debugEnabled&&e._ctx.strokeRect(0,0,n.width,n.height),o._ctx.drawImage(n,u,c)}})}return o(e,[{key:"getCanvas",value:function(){return this._canvas}},{key:"getContext",value:function(){return this._ctx}},{key:"getWidth",value:function(){return this._canvas.width}},{key:"getHeight",value:function(){return this._canvas.height}},{key:"addEntity",value:function(e){if(!(e instanceof i.Item))throw Error("Entities must be valid");return e.draw&&e.draw(e._ctx),this._entities[this._entities.length]=e,this}},{key:"getEntities",value:function(){return this._entities}},{key:"clearCanvas",value:function(){this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height)}},{key:"resizeCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;if(this._boundariesLocked)throw Error("Cannot resize canvas when boundaries are locked");this._canvas.width=this._width=e,this._canvas.height=this._height=t}},{key:"lockBoundaries",value:function(){this._boundariesLocked=!0}},{key:"unlockBoundaries",value:function(){this._boundariesLocked=!1}},{key:"Class",get:function(){return e}}]),e}();t.Layer=u},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.View=void 0;var a=r(3),u=r(10),c={Item:a.Item,Layer:u.Layer},s=[];c.createLayer=function(e,t){var r=s[s.length]=new u.Layer(e,t);return r},c.createItem=function(e){var t=e.draw,r=void 0===t?Function:t,u=e.coordinates,c=u.dx,s=u.dy,f=e.dimensions,l=f.width,d=f.height;return new(function(e){function t(e,r,i,a,u){n(this,t);var c=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r,i,a,u));return c.draw=e,c}return i(t,e),t}(a.Item))(r,c,s,l,d)},c.getLayer=function(e){for(var t=0,r=s.length;t<r;t++)if(s[t].uid===e)return s[t]},c.getLayers=function(){return s},window.addEventListener("resize",function(){for(var e=void 0,t=0,r=s.length;t<r;t++)e=s[t],e._boundariesLocked||e.resizeCanvas()},!1),t.View=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(1);Object.defineProperty(t,"Platform",{enumerable:!0,get:function(){return n.Platform}});var o=r(11);Object.defineProperty(t,"View",{enumerable:!0,get:function(){return o.View}})},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function a(){y&&h&&(y=!1,h.length?v=h.concat(v):p=-1,v.length&&u())}function u(){if(!y){var e=o(a);y=!0;for(var t=v.length;t;){for(h=v,v=[];++p<t;)h&&h[p].run();p=-1,t=v.length}h=null,y=!1,i(e)}}function c(e,t){this.fun=e,this.array=t}function s(){}var f,l,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(e){l=n}}();var h,v=[],y=!1,p=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];v.push(new c(e,t)),1!==v.length||y||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}}]);